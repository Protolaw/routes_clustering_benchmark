# routes_clustering_benchmark

## Project Overview

**routes_clustering_benchmark** is a benchmarking suite for comparing clustering results of synthetic pathways generated by different computer-aided synthesis planning (CASP) tools, specifically [AiZynthFinder](https://github.com/MolecularAI/aizynthfinder) and [ASKCOS](https://askcos.mit.edu/). The project focuses on evaluating clustering methods for retrosynthetic routes, including the SB-CGR approach implemented in [SynPlanner](https://github.com/Laboratoire-de-Chemoinformatique/SynPlanner).

Clustering is performed using cheminformatics representations such as CGR (Condensed Graph of Reaction), leveraging [CGRTools](https://github.com/CGRtools/CGRtools) and [chython](https://github.com/chython/chython).

## Features

- **Route Extraction:** Parse and process synthetic routes from AiZynthFinder and ASKCOS outputs.
- **Clustering Methods:** Compare LSTM-based, SB-CGR, and TED clustering approaches.
- **Visualization:** Plot cluster distributions and inspect cluster contents.
- **Benchmarking:** Measure clustering performance and overlap between methods.

## Installation

1. **Clone this repository:**
    ```sh
    git clone https://github.com/Protolaw/routes_clustering_benchmark.git
    cd routes_clustering_benchmark
    ```

2. **Install dependencies:**
    - Python 3.8+
    - [CGRTools](https://github.com/CGRtools/CGRtools)
    - [chython](https://github.com/chython/chython)
    - [AiZynthFinder](https://github.com/MolecularAI/aizynthfinder)
    - [SynPlanner](https://github.com/Laboratoire-de-Chemoinformatique/SynPlanner/tree/main) (for SB-CGR clustering)
    - Other Python packages: `tqdm`, `matplotlib`, `numpy`, etc.

    You can install most dependencies via pip:
    ```sh
    pip install CGRtools chython tqdm matplotlib numpy
    ```

    For AiZynthFinder and SynPlanner, follow their respective installation instructions.

## Usage

- **ASKCOS Clustering:** See [`askcos_cluster.ipynb`](askcos_cluster.ipynb) for extracting and clustering routes from ASKCOS.
- **AiZynthFinder Clustering:** See [`aizynth_cluster.ipynb`](aizynth_cluster.ipynb) for extracting and clustering routes from AiZynthFinder.
- **SB-CGR Clustering:** Uses the implementation from [SynPlanner](https://github.com/Laboratoire-de-Chemoinformatique/SynPlanner/tree/main).
- **Visualization and Comparison:** Notebooks include code for plotting distributions and comparing cluster overlaps.
- **Inter-comparison between different tools' results** For a comparative analysis of SB‑CGR overlap and SB‑hostogram results across different methods, see [`inter-comparison.ipynb`](inter-comparison.ipynb).

## Reference Implementations

- **SB-CGR Clustering:**  
  Implemented in [SynPlanner](https://github.com/Laboratoire-de-Chemoinformatique/SynPlanner).
- **CGRTools:**  
  [CGRTools GitHub](https://github.com/CGRtools/CGRtools)
- **chython:**  
  [chython GitHub](https://github.com/chython/chython)

## Contributing

Contributions are welcome! Please open issues or submit pull requests for improvements or bug fixes.

## License

This project is released under the MIT License.

## Authors and Acknowledgments

- Almaz Gilmullin
- Thanks to the developers of AiZynthFinder, ASKCOS, CGRTools, chython, and SynPlanner.

## Project Status

Active development. Looking for feedback and collaborators!